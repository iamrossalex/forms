<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Forms DEMO</title>
	<link rel="stylesheet" type="text/css" href="css/Worms/Worms.css">
</head>
<body>
	<h1>Worms form</h1>
	<div id="targetForm"></div>
	<a href="" id="submitFirst">Submit</a>
	<div id="log"></div>

	<script type="module">
		import {Worms} from "./js/Worms/Worms.js";
		var forms = new Worms();
		forms.create({
			name: "first",
			type: "Form",
			target: "#targetForm",
			opts: {
				action: "info.php",
				method: "POST",
				enctype: "multipart/form-data",
				submit: [
					{
						before: () => {
							console.log("before");
						},
						after: () => {
							console.log("after");
						}
					}
				],
			},
			nodes: [
				{
					type: "Column",
					data: {
						"title": "My form layout"
					},
					opts: {
						layout: "1"
					},
					nodes: [
						{
							name: "text",
							type: "Text",
							data: {
								"title": "Text field demo",
								"placeholder": "Place your value",
								"value": "default value"
							}
						},
						{
							name: "select",
							type: "Select",
							data: {
								"title": "Text field demo",
								"default": "",
								"empty": "Select",
								"values": [
									{title: "Level 1", "value": "1"},
									{title: "Level 2", "value": "2"},
									{title: "Level 3", "value": "3"}
								]
							}
						},
						{
							name: "textarea",
							type: "Textarea",
							data: {
								"title": "Text field demo",
								"placeholder": "Place your value",
								"value": "default value"
							}
						}
					]
				}
			]
		});
		document.querySelector("#submitFirst").addEventListener('click', (ev) => {
			ev.preventDefault();
			console.log(document.querySelector("[data-wormfield='text']").val(), document.querySelector("[data-wormfield='text']").disabled());
			console.log(document.querySelector("[data-wormfield='select']").val(), document.querySelector("[data-wormfield='text']").disabled());
			console.log(document.querySelector("[data-wormfield='textarea']").val(), document.querySelector("[data-wormfield='text']").disabled());

			console.log(forms.forms);
		});
	</script>
</body>
</html>